# salient/toolkit

> A lightweight PHP toolkit for expressive backend/CLI apps. May contain traces
> of Laravel.

<p>
  <a href="https://packagist.org/packages/salient/toolkit"><img src="https://poser.pugx.org/salient/toolkit/v" alt="Latest Stable Version" /></a>
  <a href="https://packagist.org/packages/salient/toolkit"><img src="https://poser.pugx.org/salient/toolkit/license" alt="License" /></a>
  <a href="https://github.com/salient-labs/toolkit/actions"><img src="https://github.com/salient-labs/toolkit/actions/workflows/ci.yml/badge.svg" alt="CI Status" /></a>
  <a href="https://codecov.io/gh/salient-labs/toolkit"><img src="https://codecov.io/gh/salient-labs/toolkit/graph/badge.svg?token=Y0l9ZeEtrI" alt="Code Coverage" /></a>
</p>

---

## Installation

Install the entire toolkit with [Composer][]:

```shell
composer require salient/toolkit
```

Or install only the components you need, e.g. [salient/cache][],
[salient/utils][] and the toolkit's [PHPStan extension][salient/phpstan]:

```shell
composer require salient/cache salient/utils
composer require --dev salient/phpstan
```

## Components

The Salient toolkit includes the following components, each of which can be
installed separately to minimise the dependency footprint of your project. The
only third-party dependencies are [PSR][] interface packages and [lkrms/dice][],
a standalone dependency injection container that will be removed when
[salient/container][] is finalised.

![Salient toolkit component diagram](images/components.svg)

| Component   | Package                 | Provides                                                                            |
| ----------- | ----------------------- | ----------------------------------------------------------------------------------- |
| Cache       | [salient/cache][]       | A key-value store backed by a SQLite database                                       |
| CLI         | [salient/cli][]         | A service container and command framework for CLI applications                      |
| Collections | [salient/collections][] | Access to collections of values via array-like objects with chainable methods       |
| Console     | [salient/console][]     | Terminal output and message logging via an API similar to `console` in web browsers |
| Container   | [salient/container][]   | A service container with contextual bindings                                        |
| Contracts   | [salient/contracts][]   | Interfaces, abstractions and enumerations                                           |
| Core        | [salient/core][]        | Reusable classes, traits and services                                               |
| Curler      | [salient/curler][]      | An HTTP client optimised for RESTful API endpoints                                  |
| Db          | [salient/db][]          | Access to databases                                                                 |
| HTTP        | [salient/http][]        | HTTP message and utility classes                                                    |
| Iterators   | [salient/iterators][]   | Iterator classes and traits                                                         |
| PHPDoc      | [salient/phpdoc][]      | A PHPDoc extractor and parser                                                       |
| PHPStan     | [salient/phpstan][]\*   | PHPStan extensions for projects that use the toolkit                                |
| Polyfills   | [salient/polyfills][]   | Polyfills                                                                           |
| Sli         | [salient/sli][]\*       | `sli`, the toolkit's CLI utility                                                    |
| Sync        | [salient/sync][]        | A framework and SQLite-backed store for synchronising data with backends            |
| Testing     | [salient/testing][]\*   | Classes that are useful in test suites                                              |
| Utils       | [salient/utils][]       | Utility methods via stateless classes                                               |

<small>\* for development only</small>

## Documentation

[API documentation][api-docs] for `salient/toolkit` tracks the `main` branch of
the project's [GitHub repository][repo] and is generated by [ApiGen][].

You can build it yourself by running the following commands in the top-level
directory. Output is generated in `docs/api` by default.

```shell
composer -d tools/apigen install
tools/apigen/vendor/bin/apigen -c tools/apigen/apigen.neon
```

Other documentation is available under [docs][], and usage examples are provided
in the form of [unit tests][tests].

## License

This project is licensed under the [MIT License][].

[api-docs]: https://salient-labs.github.io/toolkit/
[ApiGen]: https://github.com/ApiGen/ApiGen
[Composer]: https://getcomposer.org/
[docs]: docs/
[lkrms/dice]: https://packagist.org/packages/lkrms/dice
[MIT License]: LICENSE
[PSR]: https://www.php-fig.org/psr/
[repo]: https://github.com/salient-labs/toolkit
[salient/cache]: https://packagist.org/packages/salient/cache
[salient/cli]: https://packagist.org/packages/salient/cli
[salient/collections]: https://packagist.org/packages/salient/collections
[salient/console]: https://packagist.org/packages/salient/console
[salient/container]: https://packagist.org/packages/salient/container
[salient/contracts]: https://packagist.org/packages/salient/contracts
[salient/core]: https://packagist.org/packages/salient/core
[salient/curler]: https://packagist.org/packages/salient/curler
[salient/db]: https://packagist.org/packages/salient/db
[salient/http]: https://packagist.org/packages/salient/http
[salient/iterators]: https://packagist.org/packages/salient/iterators
[salient/phpdoc]: https://packagist.org/packages/salient/phpdoc
[salient/phpstan]: https://packagist.org/packages/salient/phpstan
[salient/polyfills]: https://packagist.org/packages/salient/polyfills
[salient/sli]: https://packagist.org/packages/salient/sli
[salient/sync]: https://packagist.org/packages/salient/sync
[salient/testing]: https://packagist.org/packages/salient/testing
[salient/utils]: https://packagist.org/packages/salient/utils
[tests]: tests/unit/
